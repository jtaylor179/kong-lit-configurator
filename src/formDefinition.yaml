serviceConfig:
  fields:
    - name: general
    #  property: upstreamUrl
      type: textfield
      label: Upstream URL
      default:
      dataType: string
      property:
        out: >
          const urlSpec = new URL(value);
          return {"host": urlSpec.host, "protocol": urlSpec.protocol, "path": urlSpec.pathname};
        in: >
          if(this.host){
            return this.protocol + '://' + this.host + (this.path ? this.path : '' );
          } else {
            return '';
          }
    - name: cors-origins
      plugin: cors
      property: origin
      label: Origins
      type: textfield
      dataType: array
      default:
    - name: cors-methods
      plugin: cors
      dataType: array
      property: methods
      type: checkbox
      label: Headers
      validationType: function
      validationFunction: "function(val, fields){ return true;}"
      options:
        - GET
        - POST
        - PUT
        - DELETE
      default:
      help: Blah blah2
    #  layoutGrid:
    #      grid-template-columns: 80px auto 80px
    #      grid-template-rows: 100px 50px 100px
  css:
    grid-column: 3 / span 2
    grid-row: third-line / 4
routeConfig:
  layoutGrid:
      grid-template-columns: 80px auto 80px
      grid-template-rows: 100px 50px 100px

plugins:
  - name: corsSupport

fields:
  - name: corsSupport
    scope:
    -	service
    - route
    default: false
    fieldType: switch
    label: CORS
    pluginName: cors

